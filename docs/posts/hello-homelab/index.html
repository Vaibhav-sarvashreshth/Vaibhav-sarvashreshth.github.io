<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" 
  
>
  <!-- The Head -->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  >

  
    

    
  

  

  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Database Sharding" />
<meta property="og:locale" content="en" />
<meta name="description" content="What is Database Sharding" />
<meta property="og:description" content="What is Database Sharding" />
<link rel="canonical" href="https://vaibhav-sarvashreshth.github.io//posts/hello-homelab/" />
<meta property="og:url" content="https://vaibhav-sarvashreshth.github.io//posts/hello-homelab/" />
<meta property="og:site_name" content="Vaibhav`s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-05-16T22:48:18+05:30" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Database Sharding" />
<meta name="twitter:site" content="@twitter_username" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-05-20T22:50:55+05:30","datePublished":"2023-05-16T22:48:18+05:30","description":"What is Database Sharding","headline":"Database Sharding","mainEntityOfPage":{"@type":"WebPage","@id":"https://vaibhav-sarvashreshth.github.io//posts/hello-homelab/"},"url":"https://vaibhav-sarvashreshth.github.io//posts/hello-homelab/"}</script>
<!-- End Jekyll SEO tag -->

  

  <title>Database Sharding | Vaibhav`s Blog
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Vaibhav`s Blog">
<meta name="application-name" content="Vaibhav`s Blog">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/style.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<div id="sidebar" class="d-flex flex-column align-items-end">
  <div class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle">
      
        
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT5qsJ4euWeM1_h7XetATI2hyfJTsgEsX1Ygg&usqp=CAU" width="112" height="112" alt="avatar" onerror="this.style.display='none'">
      
    </a>

    <div class="site-title">
      <a href="/">Vaibhav`s Blog</a>
    </div>
    <div class="site-subtitle fst-italic">My own learnig in my own words</div>
  </div>
  <!-- .profile-wrapper -->

  <ul class="nav flex-column flex-grow-1 w-100 ps-0">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
      <li class="nav-item">
        <a href="/categories/" class="nav-link">
          <i class="fa-fw fas fa-stream"></i>
          

          <span>CATEGORIES</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/tags/" class="nav-link">
          <i class="fa-fw fas fa-tags"></i>
          

          <span>TAGS</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/archives/" class="nav-link">
          <i class="fa-fw fas fa-archive"></i>
          

          <span>ARCHIVES</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/about/" class="nav-link">
          <i class="fa-fw fas fa-info-circle"></i>
          

          <span>ABOUT</span>
        </a>
      </li>
      <!-- .nav-item -->
    
  </ul>
  <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/Vaibhav-sarvashreshth"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/twitter_username"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['mokalevaibhav','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</div>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div id="main" class="container px-xxl-5">
        <!-- The Top Bar -->

<div id="topbar-wrapper">
  <div
    id="topbar"
    class="container d-flex align-items-center justify-content-between h-100"
  >
    <span id="breadcrumb">
      

      
        
          
            <span>
              <a href="/">
                Home
              </a>
            </span>

          
        
          
        
          
            
              <span>Database Sharding</span>
            

          
        
      
    </span>
    <!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </span>
    <span id="search-cancel">Cancel</span>
  </div>
</div>

        









<div class="row">
  <!-- core -->
  <div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4">
    

    <div class="post px-1 px-md-2">
      

      
        
      
        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->


<!-- images -->



<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  




<!-- return -->




<h1 data-toc-skip>Database Sharding</h1>

<div class="post-meta text-muted">
    <!-- published date -->
    <span>
      Posted
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class=""
  data-ts="1684257498"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  May 16, 2023
</em>

    </span>

    <!-- lastmod date -->
    
    <span>
      Updated
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class=""
  data-ts="1684603255"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  May 20, 2023
</em>

    </span>
    

  

  <div class="d-flex justify-content-between">
    <!-- author(s) -->
    <span>
      

      By

      <em>
      
        <a href="https://github.com/Vaibhav-sarvashreshth">Vaibhav Siddodhan Mokale</a>
      
      </em>
    </span>

    <div>
      <!-- page views -->
      

      <!-- read time -->
      <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="1072 words"
>
  <em>5 min</em> read</span>

    </div>

  </div> <!-- .d-flex -->

</div> <!-- .post-meta -->

<div class="post-content">
  <h1 id="what-is-database-sharding">What is Database Sharding</h1>

<p>Sharding is a type of database partitioning that separates large databases into smaller, faster, more easily managed parts. These smaller parts are called data shards. The word shard means “a small part of a whole.”</p>

<h2 id="horizontal-vs-vertical-sharding"><span class="me-2">Horizontal Vs vertical sharding:</span><a href="#horizontal-vs-vertical-sharding" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>To achieve sharding, the rows or columns of a larger database table are split into multiple smaller tables.</p>

<p>When we split using rows : Horizontal Sharding</p>

<p>When we split using columns : Vertical Sharding</p>

<h2 id="horizontal-sharding"><span class="me-2">Horizontal sharding.</span><a href="#horizontal-sharding" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p>When each new table has the same schema but unique rows, it is known as horizontal sharding. In this type of sharding, more machines are added to an existing stack to spread out the load, increase processing speed and support more traffic. This method is most effective when queries return a subset of rows that are often grouped together.</p>

<h2 id="vertical-sharding"><span class="me-2">Vertical sharding.</span><a href="#vertical-sharding" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p>When each new table has a schema that is a faithful subset of the original table’s schema, it is known as vertical sharding. It is effective when queries usually return only a subset of columns of the data.</p>

<h3 id="original-data-set-"><span class="me-2">Original data set :</span><a href="#original-data-set-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>Student ID</th>
      <th>Name</th>
      <th>Age</th>
      <th>Major</th>
      <th>Hometown</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Amy</td>
      <td>21</td>
      <td>Economics</td>
      <td>Austin</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Jack</td>
      <td>20</td>
      <td>History</td>
      <td>San Francisco</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Matthew</td>
      <td>22</td>
      <td>Political Science</td>
      <td>New York City</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Priya</td>
      <td>19</td>
      <td>Biology</td>
      <td>Gary</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Ahmed</td>
      <td>19</td>
      <td>Philosophy</td>
      <td>Boston</td>
    </tr>
  </tbody>
</table></div>

<h3 id="horizontal-sharding-1"><span class="me-2">Horizontal Sharding</span><a href="#horizontal-sharding-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<h4 id="shard-1"><span class="me-2">shard 1</span><a href="#shard-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>Student ID</th>
      <th>Name</th>
      <th>Age</th>
      <th>Major</th>
      <th>Hometown</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Amy</td>
      <td>21</td>
      <td>Economics</td>
      <td>Austin</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Jack</td>
      <td>20</td>
      <td>History</td>
      <td>San Francisco</td>
    </tr>
  </tbody>
</table></div>

<h4 id="shard-2"><span class="me-2">shard 2</span><a href="#shard-2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>Student ID</th>
      <th>Name</th>
      <th>Age</th>
      <th>Major</th>
      <th>Hometown</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>3</td>
      <td>Matthew</td>
      <td>22</td>
      <td>Political Science</td>
      <td>New York City</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Priya</td>
      <td>19</td>
      <td>Biology</td>
      <td>Gary</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Ahmed</td>
      <td>19</td>
      <td>Philosophy</td>
      <td>Boston</td>
    </tr>
  </tbody>
</table></div>

<h3 id="vertical-sharding-1"><span class="me-2">Vertical Sharding</span><a href="#vertical-sharding-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<h4 id="shard-1-1"><span class="me-2">shard 1</span><a href="#shard-1-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>Student ID</th>
      <th>Name</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Amy</td>
      <td>21</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Jack</td>
      <td>20</td>
    </tr>
  </tbody>
</table></div>

<h4 id="shard-2-1"><span class="me-2">shard 2</span><a href="#shard-2-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>Student ID</th>
      <th>Major</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Economics</td>
    </tr>
    <tr>
      <td>2</td>
      <td>History</td>
    </tr>
  </tbody>
</table></div>

<h4 id="shard-3"><span class="me-2">shard 3</span><a href="#shard-3" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>Student ID</th>
      <th>Hometown</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Austin</td>
    </tr>
    <tr>
      <td>2</td>
      <td>San Francisco</td>
    </tr>
  </tbody>
</table></div>

<h1 id="benifits-of-sharding">Benifits of Sharding</h1>

<ul>
  <li>Horizontal scaling, also known as scaling out, enables flexible database design and is beneficial for parallel processing.</li>
  <li>
    <p>It provides near-limitless scalability for intense workloads and big data requirements.
      Horizontal sharding optimizes the use of compute resources across a cluster for every query.
      Query resolution is faster as each machine has to scan fewer rows.</p>
  </li>
  <li>
    <p>Vertical sharding enhances a single machine’s capacity by increasing RAM, storage, and CPU capacity.</p>
  </li>
  <li>
    <p>Sharded databases offer higher availability and mitigate the impact of outages.</p>
  </li>
  <li>
    <p>During an outage, only the portions of an application relying on the missing data chunks become unusable.
      Backup shards are replicated to additional nodes, minimizing damage from outages.
      Applications without sharded databases may experience complete unavailability during an outage.</p>
  </li>
  <li>Sharding increases the read/write throughput when operations are limited to a single shard.</li>
</ul>

<h1 id="types-of-sharding">Types of sharding</h1>

<h2 id="range-based-sharding"><span class="me-2">Range-Based Sharding:</span><a href="#range-based-sharding" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li>Range-Based Sharding involves partitioning data based on a specific range of values.</li>
  <li>The shard key, which is a chosen attribute or column, determines the range for each shard.</li>
  <li>Data is distributed to different shards based on the values falling within the defined ranges.</li>
  <li>This approach is particularly useful when data can be naturally grouped or sorted based on a range, such as dates, numerical values, or geographical regions.</li>
  <li>For example, in a customer database, you can shard data based on the customer’s last name initial, where each shard stores data for a specific range of last name initials (e.g., shard 1 for A-F, shard 2 for G-M, etc.).</li>
</ul>

<h2 id="hash-based-sharding"><span class="me-2">Hash-Based Sharding:</span><a href="#hash-based-sharding" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li>Hash-Based Sharding involves distributing data across shards using a hash function.</li>
  <li>The shard key value is input into a hash function, which generates a hash value.</li>
  <li>The hash value determines the shard where the data will be stored.</li>
  <li>Hash-Based Sharding ensures an even distribution of data across shards and minimizes hotspots.</li>
  <li>This method works well when the distribution of data is not inherently ordered or when you want to achieve a uniform distribution of data across shards.</li>
  <li>For example, if you have a user database, you can use the user ID as the shard key and apply a hash function to determine which shard the user’s data will be stored on.</li>
</ul>

<h2 id="directory-based-sharding"><span class="me-2">Directory-Based Sharding</span><a href="#directory-based-sharding" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li>Directory-Based Sharding, also known as lookup-based sharding, involves using a directory or mapping table to determine the shard for a given key.</li>
  <li>Each entry in the directory maps a key to its corresponding shard.</li>
  <li>When a query or operation is performed, the directory is consulted to determine the shard responsible for handling that particular key.</li>
  <li>This approach provides flexibility in managing shard assignments and allows for dynamic scaling and rebalancing of data across shards.</li>
  <li>Directory-Based Sharding can be useful when the sharding criteria are not based on simple ranges or hash functions, but rather on more complex business logic or dynamically changing attributes.</li>
</ul>

<h2 id="strength-and-consideration-and-which-one-is-best"><span class="me-2">Strength and Consideration and which one is best</span><a href="#strength-and-consideration-and-which-one-is-best" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p><strong>Range-Based Sharding:</strong></p>

<ul>
  <li><strong>Strengths:</strong>
    <ul>
      <li>Well-suited for data that can be naturally grouped or sorted based on ranges.</li>
      <li>Enables efficient range-based queries and analysis.</li>
    </ul>
  </li>
  <li><strong>Considerations:</strong>
    <ul>
      <li>Requires careful selection of the shard key to ensure balanced data distribution.</li>
      <li>May encounter challenges when the data distribution is not evenly distributed across ranges.</li>
    </ul>
  </li>
</ul>

<p><strong>Hash-Based Sharding:</strong></p>

<ul>
  <li><strong>Strengths:</strong>
    <ul>
      <li>Provides a uniform distribution of data across shards, minimizing hotspots.</li>
      <li>Well-suited for scenarios where the distribution of data is not inherently ordered.</li>
    </ul>
  </li>
  <li><strong>Considerations:</strong>
    <ul>
      <li>Can be challenging to perform range-based queries efficiently.</li>
      <li>Requires consideration of hash collisions and their impact on performance.</li>
    </ul>
  </li>
</ul>

<p><strong>Directory-Based Sharding:</strong></p>

<ul>
  <li><strong>Strengths:</strong>
    <ul>
      <li>Offers flexibility and dynamic scalability in managing shard assignments.</li>
      <li>Allows for complex business logic and dynamic changes in shard assignments.</li>
    </ul>
  </li>
  <li><strong>Considerations:</strong>
    <ul>
      <li>Introduces additional overhead due to the need to consult the directory for shard lookups.</li>
      <li>Requires maintenance of the directory and its synchronization with shard assignments.</li>
    </ul>
  </li>
</ul>

<p>It’s important to note that the “best” sharding technique will depend on your specific use case, data characteristics, scalability requirements, and query patterns. Consider the following factors when making a decision:</p>

<ul>
  <li>Data Distribution: Analyze how your data is naturally distributed and identify any existing patterns or ranges that can be leveraged for sharding.</li>
  <li>Query Patterns: Consider the types of queries performed on your data and assess how well each sharding technique aligns with those query patterns.</li>
  <li>Scalability Requirements: Evaluate the scalability needs of your application and determine which sharding technique can provide the desired scalability and performance.</li>
  <li>Flexibility and Maintenance: Consider the trade-offs between flexibility, maintenance, and complexity associated with each sharding technique.</li>
</ul>

<p>In practice, a combination of sharding techniques may be used depending on the specific requirements of different data sets or entities within your application. It’s recommended to thoroughly analyze your requirements, experiment, and benchmark the different techniques to determine the most suitable approach for your specific use case.</p>

</div>

<div class="post-tail-wrapper text-muted">

  <!-- categories -->
  
  <div class="post-meta mb-3">
    <i class="far fa-folder-open fa-fw me-1"></i>
    
      <a href='/categories/dbms/'>DBMS</a>
  </div>
  

  <!-- tags -->
  
  <div class="post-tags">
    <i class="fa fa-tags fa-fw me-1"></i>
      
      <a href="/tags/sharding/"
          class="post-tag no-text-decoration" >sharding</a>
      
      <a href="/tags/horizontal-sharding/"
          class="post-tag no-text-decoration" >Horizontal sharding</a>
      
      <a href="/tags/vertical-sharding/"
          class="post-tag no-text-decoration" >Vertical sharding</a>
      
      <a href="/tags/types-of-sharding/"
          class="post-tag no-text-decoration" >types of sharding</a>
      
  </div>
  

  <div class="post-tail-bottom
    d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
    <div class="license-wrapper">

      

        

        This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.

      
    </div>

    <!-- Post sharing snippet -->

<div class="share-wrapper">
  <span class="share-label text-muted me-1">Share</span>
  <span class="share-icons">
    
    
    

    
      
      <a
        href="https://twitter.com/intent/tweet?text=Database%20Sharding%20-%20Vaibhav%60s%20Blog&url=https%3A%2F%2Fvaibhav-sarvashreshth.github.io%2F%2Fposts%2Fhello-homelab%2F"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Twitter"
        target="_blank"
        rel="noopener"
        aria-label="Twitter"
      >
        <i class="fa-fw fab fa-twitter"></i>
      </a>
    
      
      <a
        href="https://www.facebook.com/sharer/sharer.php?title=Database%20Sharding%20-%20Vaibhav%60s%20Blog&u=https%3A%2F%2Fvaibhav-sarvashreshth.github.io%2F%2Fposts%2Fhello-homelab%2F"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Facebook"
        target="_blank"
        rel="noopener"
        aria-label="Facebook"
      >
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    
      
      <a
        href="https://t.me/share/url?url=https%3A%2F%2Fvaibhav-sarvashreshth.github.io%2F%2Fposts%2Fhello-homelab%2F&text=Database%20Sharding%20-%20Vaibhav%60s%20Blog"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Telegram"
        target="_blank"
        rel="noopener"
        aria-label="Telegram"
      >
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <i
      id="copy-link"
      class="fa-fw fas fa-link small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
    </i>
  </span>
</div>


  </div><!-- .post-tail-bottom -->

</div><!-- div.post-tail-wrapper -->


      
    
      
    </div>
  </div>
  <!-- #core-wrapper -->

  <!-- panel -->
  <div id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
    <div class="access">
      














  <div id="access-lastmod" class="post">
    <div class="panel-heading">Recently Updated</div>
    <ul class="post-content ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li>
          <a href="/posts/Top-50-Graph-Questions/">Top 50 Graph Questions</a>
        </li>
      
        
        
        
        <li>
          <a href="/posts/hello-homelab/">Database Sharding</a>
        </li>
      
    </ul>
  </div>
  <!-- #access-lastmod -->


      <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Trending Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/bfs/">BFS</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/dfs/">DFS</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/imp-graph-questions/">Imp-graph_questions</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/top-50-graph-question/">top-50-graph-question</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/horizontal-sharding/">Horizontal sharding</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sharding/">sharding</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/types-of-sharding/">types of sharding</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vertical-sharding/">Vertical sharding</a>
      
    </div>
  </div>


    </div>

    
      
      



  <div id="toc-wrapper" class="ps-0 pe-4 mb-5">
    <div class="panel-heading ps-3 pt-2 mb-2">Contents</div>
    <nav id="toc"></nav>
  </div>


    
  </div>
</div>

<!-- tail -->

  <div class="row">
    <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5">
      
        
        <!--
  Recommend the other 3 posts according to the tags and categories of the current post,
  if the number is not enough, use the other latest posts to supplement.
-->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->








  

  

  

  

  

  

  

  

  

  

  

  

  

  
    





<!-- Fill with the other newlest posts -->



  
    
    
      
      
        
        
        
      
    
  
    
    
      
      
        
        
        
      
    
  
    
    
  



  <div id="related-posts" class="mb-2 mb-sm-4">
    <h3 class="pt-2 mb-4 ms-1" data-toc-skip>
      Further Reading
    </h3>
    <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        
        
        <div class="col">
          <a href="/posts/Priority-Queue/" class="card post-preview h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class="small"
  data-ts="1686071898"
  data-df="ll"
  
>
  Jun  6, 2023
</em>

              <h4 class="pt-0 my-2" data-toc-skip>Top 50 Graph Questions</h4>
              <div class="text-muted small">
                <p>
                  





                  

                </p>
              </div>
            </div>
          </a>
        </div>
      
        
        
        <div class="col">
          <a href="/posts/Top-50-Graph-Questions/" class="card post-preview h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class="small"
  data-ts="1684257498"
  data-df="ll"
  
>
  May 16, 2023
</em>

              <h4 class="pt-0 my-2" data-toc-skip>Top 50 Graph Questions</h4>
              <div class="text-muted small">
                <p>
                  





                  Top 50 Graph Problems

Looking to master graph theory and solve graph problems efficiently? You’re in the right place! This blog provides solutions to the top 50 graph problems along with multiple ...
                </p>
              </div>
            </div>
          </a>
        </div>
      
    </div>
    <!-- .card-deck -->
  </div>
  <!-- #related-posts -->


      
        
        <!-- Navigation buttons at the bottom of the post. -->

<div class="post-navigation d-flex justify-content-between">
  
    <div
      class="btn btn-outline-primary disabled"
      prompt="Older"
    >
      <p>-</p>
    </div>
  

  
    <a
      href="/posts/Top-50-Graph-Questions/"
      class="btn btn-outline-primary"
      prompt="Newer"
    >
      <p>Top 50 Graph Questions</p>
    </a>
  
</div>

      
        
        <!--  The comments switcher -->


      
    </div>
  </div>


        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 post-content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Trending Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/bfs/">BFS</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/dfs/">DFS</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/imp-graph-questions/">Imp-graph_questions</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/top-50-graph-question/">top-50-graph-question</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/horizontal-sharding/">Horizontal sharding</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sharding/">sharding</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/types-of-sharding/">types of sharding</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vertical-sharding/">Vertical sharding</a>
      
    </div>
  </div>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>
    </div>

    <!-- The Footer -->

<footer>
  <div class="container px-lg-4">
    <div class="d-flex justify-content-center align-items-center text-muted mx-md-3">
      <p>Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>
      </p>

      <p>©
        2023
        <a href="https://github.com/Vaibhav-sarvashreshth">Vaibhav Siddodhan Mokale</a>.
        
          <span
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
          >Some rights reserved.</span>
        
      </p>
    </div>
  </div>
</footer>


    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    
      <div
        id="notification"
        class="toast"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
        data-bs-animation="true"
        data-bs-autohide="false"
      >
        <div class="toast-header">
          <button
            type="button"
            class="btn-close ms-auto"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
        <div class="toast-body text-center pt-0">
          <p class="px-2 mb-3">A new version of content is available.</p>
          <button type="button" class="btn btn-primary" aria-label="Update">
            Update
          </button>
        </div>
      </div>
    

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  



  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/en.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

